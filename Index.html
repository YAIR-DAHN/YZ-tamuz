<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ספירה לאחור לסיום צום י"ז בתמוז</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;700&family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
        <style>
        :root {
            --bg-color: #0D0D0D;
            --container-bg: rgba(26, 26, 26, 0.75);
            --text-color: #EAEAEA;
            --accent-color: #D4AF37;
            --accent-glow: rgba(212, 175, 55, 0.3);
            --shadow-color: rgba(0, 0, 0, 0.6);
        }

        body {
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            font-family: 'Heebo', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(circle at center, rgba(255, 255, 255, 0.05) 0%, transparent 60%);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
            overflow-x: hidden;
        }

        .container {
            background: var(--container-bg);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            padding: 40px 50px;
            border-radius: 25px;
            box-shadow: 0 15px 40px var(--shadow-color), 0 0 20px var(--accent-glow);
            border: 1px solid rgba(212, 175, 55, 0.4);
            max-width: 95%;
            width: 700px;
            box-sizing: border-box;
            transition: all 0.3s ease;
        }

        header h1 {
            font-size: 2.8rem;
            font-weight: 400;
            margin: 0 0 10px 0;
            color: var(--accent-color);
            text-shadow: 0 0 10px var(--accent-glow);
        }

        header p {
            font-size: 1.1rem;
            font-weight: 300;
            margin-bottom: 40px;
            opacity: 0.8;
        }

        .controls {
            margin-bottom: 40px;
        }

        .controls label {
            font-size: 1.1rem;
            margin-left: 15px;
        }

        #city-select {
            background-color: rgba(0, 0, 0, 0.3);
            color: var(--text-color);
            border: 1px solid var(--accent-color);
            border-radius: 8px;
            padding: 12px 20px;
            font-family: 'Heebo', sans-serif;
            font-size: 1.1rem;
            cursor: pointer;
            outline: none;
            transition: all 0.3s ease;
        }

        #city-select:hover {
            background-color: rgba(212, 175, 55, 0.1);
            box-shadow: 0 0 10px var(--accent-glow);
        }

        #countdown {
            display: flex;
            flex-direction: row-reverse; /* This achieves a LTR visual order on an RTL page */
            justify-content: center;
            align-items: center;
            gap: 25px;
            margin-bottom: 25px;
        }

        .time-unit {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .time-unit .number {
            font-family: 'Orbitron', sans-serif;
            font-size: 5rem;
            font-weight: 700;
            line-height: 1.1;
            color: var(--text-color);
            min-width: 120px; /* Ensures alignment */
        }

        .time-unit .label {
            font-size: 1rem;
            font-weight: 400;
            opacity: 0.8;
            letter-spacing: 1px;
        }
        
        .separator {
            font-family: 'Orbitron', sans-serif;
            font-size: 4rem;
            color: var(--accent-color);
            padding-bottom: 20px; /* Align with numbers */
            user-select: none;
        }

        #end-time-display {
            font-size: 1.3rem;
            font-weight: 400;
            color: var(--accent-color);
            height: 30px;
            transition: opacity 0.5s ease;
        }
        
        #end-message {
            font-size: 2rem;
            font-weight: 500;
            color: var(--accent-color);
            display: none;
        }

        footer {
            margin-top: 30px;
            font-size: 1rem;
            opacity: 0.7;
        }

        #credits {
            cursor: pointer;
            transition: opacity 0.3s ease;
        }
        #credits:hover {
            opacity: 1;
            text-decoration: underline;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .modal-overlay.active {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: var(--container-bg);
            padding: 40px;
            border-radius: 15px;
            border: 1px solid var(--accent-color);
            box-shadow: 0 10px 30px var(--shadow-color);
            position: relative;
            max-width: 90%;
            width: 400px;
            text-align: right;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            left: 20px;
            font-size: 2rem;
            color: var(--text-color);
            cursor: pointer;
            transition: transform 0.3s ease, color 0.3s ease;
        }
        .modal-close:hover {
            color: var(--accent-color);
            transform: rotate(90deg);
        }
        
        .contact-info h3 {
            text-align: center;
            margin-top: 0;
            margin-bottom: 25px;
            color: var(--accent-color);
        }
        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        .contact-item svg {
            width: 24px;
            height: 24px;
            fill: var(--accent-color);
            margin-left: 15px;
        }
        .contact-item a {
            color: var(--text-color);
            text-decoration: none;
            font-size: 1.1rem;
        }
        .contact-item a:hover {
            text-decoration: underline;
        }

        /* === Responsive Design FIX === */
        @media (max-width: 768px) {
            .container {
                padding: 30px 20px;
                width: 100%;
            }
            header h1 { font-size: 2.2rem; }
            
            /* The main fix is here: */
            #countdown { gap: 8px; }

            .time-unit .number {
                font-size: 2.5rem; /* גודל פונט מוקטן למובייל */
                min-width: 0;      /* מאפשר גמישות ברוחב */
            }
             .separator {
                font-size: 2.2rem; /* נקודות מוקטנות בהתאם */
                padding-bottom: 15px;
            }
            .time-unit .label { font-size: 0.8rem; }
            #end-time-display, .controls label, #city-select { font-size: 1rem; }
        }
    </style>

</head>
<body>

    <div class="container">
        <header>
            <h1>סיום צום י"ז בתמוז</h1>
            <p>ה'תשפ"ה / 13 ביולי 2025</p>
        </header>

        <div class="controls">
            <label for="city-select">בחר מיקום:</label>
            <select id="city-select">
                <option value="jerusalem" selected>ירושלים</option>
                <option value="tel-aviv">תל אביב</option>
                <option value="haifa">חיפה</option>
                <option value="beersheba">באר שבע</option>
                <option value="rabbeinu-tam">שיטת רבנו תם</option>
            </select>
        </div>
        
        <div id="countdown-wrapper">
            <div id="countdown">
                <div class="time-unit">
                    <span id="hours" class="number">00</span>
                    <span class="label">שעות</span>
                </div>
                <span class="separator">:</span>
                <div class="time-unit">
                    <span id="minutes" class="number">00</span>
                    <span class="label">דקות</span>
                </div>
                <span class="separator">:</span>
                <div class="time-unit">
                    <span id="seconds" class="number">00</span>
                    <span class="label">שניות</span>
                </div>
            </div>
        </div>

        <div id="end-message">
             הצום הסתיים. צום קל ומועיל שהיה.
        </div>

        <p id="end-time-display"></p>
    </div>

    <footer>
        <span id="credits">נבנה ע"י y.d. systems</span>
    </footer>

    <div class="modal-overlay" id="contact-modal">
        <div class="modal-content">
            <span class="modal-close" id="modal-close">&times;</span>
            <div class="contact-info">
                <h3>y.d. systems - יצירת קשר</h3>
                <div class="contact-item">
                    <svg viewBox="0 0 24 24"><path d="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z"/></svg>
                    <a href="tel:0583730000">058-373-0000</a>
                </div>
                <div class="contact-item">
                     <svg viewBox="0 0 24 24"><path d="M12.04 2C6.58 2 2.13 6.45 2.13 11.91C2.13 13.66 2.59 15.36 3.45 16.86L2.05 22L7.3 20.62C8.75 21.41 10.36 21.85 12.04 21.85C17.5 21.85 21.95 17.4 21.95 11.91C21.95 6.45 17.5 2 12.04 2M12.04 3.65C16.56 3.65 20.25 7.34 20.25 11.86C20.25 16.38 16.56 20.1 12.04 20.1C10.46 20.1 8.96 19.67 7.69 18.91L7.22 18.64L4.31 19.45L5.16 16.62L4.86 16.12C4 14.72 3.54 13.13 3.54 11.41C3.54 7.34 7.24 3.65 12.04 3.65M8.49 7.33C8.29 7.33 8.09 7.34 7.91 7.37C7.63 7.43 7.23 7.6 6.96 7.87C6.63 8.19 6.07 8.77 6.07 9.88C6.07 10.99 6.99 12.03 7.13 12.21C7.27 12.39 8.35 14.23 10.19 14.97C11.75 15.62 12.01 15.53 12.29 15.5C12.7 15.46 13.65 14.91 13.84 14.33C14.04 13.75 14.04 13.26 13.97 13.17C13.9 13.08 13.73 13.01 13.45 12.87C13.17 12.73 11.96 12.13 11.73 12.04C11.5 11.95 11.34 11.91 11.18 12.15C11.02 12.39 10.56 12.91 10.42 13.08C10.28 13.26 10.14 13.3 9.86 13.17C9.58 13.03 8.87 12.78 8.02 11.99C7.33 11.35 6.84 10.58 6.71 10.36C6.59 10.14 6.72 10 6.84 9.89C6.95 9.78 7.08 9.63 7.21 9.49C7.33 9.35 7.38 9.25 7.47 9.07C7.56 8.89 7.52 8.74 7.45 8.63C7.39 8.52 6.91 7.33 8.49 7.33Z" /></svg>
                    <a href="https://wa.me/972583730000" target="_blank">058-373-0000</a>
                </div>
                <div class="contact-item">
                    <svg viewBox="0 0 24 24"><path d="M22 6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6M20 6L12 11L4 6H20M20 18H4V8L12 13L20 8V18Z"/></svg>
                    <a href="mailto:yairdahn@gmail.com">yairdahn@gmail.com</a>
                </div>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const citySelect = document.getElementById('city-select');
            const endTimeDisplay = document.getElementById('end-time-display');
            const hoursEl = document.getElementById('hours');
            const minutesEl = document.getElementById('minutes');
            const secondsEl = document.getElementById('seconds');
            const countdownWrapper = document.getElementById('countdown-wrapper');
            const endMessage = document.getElementById('end-message');
            const creditsBtn = document.getElementById('credits');
            const contactModal = document.getElementById('contact-modal');
            const modalCloseBtn = document.getElementById('modal-close');

            const fastEndDate = '2025-07-13';

            const endTimes = {
                'jerusalem': { time: '20:07', text: 'צאת הצום בירושלים' },
                'tel-aviv': { time: '20:06', text: 'צאת הצום בתל אביב' },
                'haifa': { time: '20:10', text: 'צאת הצום בחיפה' },
                'beersheba': { time: '20:06', text: 'צאת הצום בבאר שבע' },
                'rabbeinu-tam': { time: '21:19', text: 'צאת הצום לשיטת ר"ת' }
            };

            let countdownInterval;

            function updateCountdown() {
                const selectedCity = citySelect.value;
                const targetTimeStr = endTimes[selectedCity].time;
                const targetDateTime = new Date(`${fastEndDate}T${targetTimeStr}:00`).getTime();
                const now = new Date().getTime();
                const distance = targetDateTime - now;

                if (distance < 0) {
                    clearInterval(countdownInterval);
                    countdownWrapper.style.display = 'none';
                    endMessage.style.display = 'block';
                    endTimeDisplay.textContent = 'תזכו לשנים רבות וטובות';
                    return;
                }

                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                hoursEl.textContent = String(hours).padStart(2, '0');
                minutesEl.textContent = String(minutes).padStart(2, '0');
                secondsEl.textContent = String(seconds).padStart(2, '0');
            }
            
            function updateDisplay() {
                clearInterval(countdownInterval);
                const selectedCity = citySelect.value;
                const cityData = endTimes[selectedCity];
                endTimeDisplay.textContent = `${cityData.text}: ${cityData.time}`;
                countdownWrapper.style.display = 'block';
                endMessage.style.display = 'none';
                updateCountdown();
                countdownInterval = setInterval(updateCountdown, 1000);
            }

            // --- Event Listeners ---
            citySelect.addEventListener('change', updateDisplay);

            creditsBtn.addEventListener('click', () => {
                contactModal.classList.add('active');
            });

            modalCloseBtn.addEventListener('click', () => {
                contactModal.classList.remove('active');
            });

            contactModal.addEventListener('click', (e) => {
                if (e.target === contactModal) {
                    contactModal.classList.remove('active');
                }
            });

            // Initial call
            updateDisplay();
        });
    </script>

</body>
</html>
